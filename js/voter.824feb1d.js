(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["voter"],{e314:function(e,t,s){"use strict";s.r(t);var n=s("0242");class i{async getUser(){return new Promise(e=>{n["a"].onAuthStateChanged(e)})}async getRecordId(e){const t=await this.getUser();return`${t.uid}_${e}`}async getRecord(e){return(await this.getDoc(e)).get()}async getDoc(e){return n["c"].doc(await this.getRecordId(e))}async incrementVote(e,t=1){const s=n["b"].firestore.FieldValue.increment(t);return n["d"].doc(e).set({likes:s},{merge:!0})}async getVoteStatus(e){const t=await this.getRecord(e);return t.exists}async toggle(e){const t=await this.getDoc(e),s=await t.get();if(s.exists)t.delete(),this.incrementVote(e,-1);else{const s=await this.getUser();t.set({picId:e,userId:s.uid}),this.incrementVote(e,1)}return!s.exists}}t["default"]=new i}}]);
//# sourceMappingURL=voter.824feb1d.js.map